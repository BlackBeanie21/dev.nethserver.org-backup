<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Enhancement #2946: Dashboard-&gt; VPN section : wrong virtual address assigned - NethServer 6 - NethServer.org</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta content="authenticity_token" name="csrf-param" />
<meta content="O9v8tr7jDWYApOdi0G+30QrigCY6Zlvwpp0a1SfpBeU=" name="csrf-token" />
<link rel='shortcut icon' href='/favicon.ico?1457596383' />
<link href="../stylesheets/jquery/jquery-ui-1.9.2.css%3F1403512057" media="all" rel="stylesheet" type="text/css" />
<link href="../stylesheets/application.css" media="all" rel="stylesheet" type="text/css" />

<script src="../javascripts/jquery-1.8.3-ui-1.9.2-ujs-2.0.3.js%3F1403512056" type="text/javascript"></script>
<script src="../javascripts/application.js%3F1403512056" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>
<script src="../themes/nethserver../javascripts/theme.js%3F1403512057" type="text/javascript"></script>
<link href="/plugin_assets/openid_fix../stylesheets/openid.css%3F1403512057" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->
    <link href="http://dev.nethserver.org/issues/2946.atom" rel="alternate" title="NethServer 6 - Enhancement #2946: Dashboard-&gt; VPN section : wrong virtual address assigned" type="application/atom+xml" />
<script src="../javascripts/context_menu.js%3F1403512056" type="text/javascript"></script><link href="../stylesheets/context_menu.css%3F1403512057" media="screen" rel="stylesheet" type="text/css" /></head>
<body class="theme-Nethserver project-nethserver controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="/login" class="login">Sign in</a></li></ul>    </div>
    
    <ul><li><a href="/" class="home">Home</a></li>
<li><a href="/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    <div id="quick-search">
        <form accept-charset="UTF-8" action="/projects/nethserver/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
        <input name="issues" type="hidden" value="1" />
        <label for='q'>
          <a href="/projects/nethserver/search" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
</form>        
    </div>

    <h1>NethServer 6</h1>

    <div id="main-menu">
        <ul><li><a href="/projects/nethserver" class="overview">Overview</a></li>
<li><a href="/projects/nethserver/activity" class="activity">Activity</a></li>
<li><a href="/projects/nethserver/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="/projects/nethserver/issues" class="issues selected">Issues</a></li>
<li><a href="/projects/nethserver/wiki" class="wiki">Wiki</a></li>
<li><a href="/projects/nethserver/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div id="main" class="">
    <div id="sidebar">
          <h3>Issues</h3>

<ul>
<li><a href="/projects/nethserver/issues?set_filter=1">View all issues</a></li>
<li><a href="/projects/nethserver/issues/report">Summary</a></li>

</ul>




<h3>Custom queries</h3>
<ul class="queries"><li><a href="/projects/nethserver/issues?query_id=60" class="query">6.6 (changelog)</a></li>
<li><a href="/projects/nethserver/issues?query_id=64" class="query">6.7 (changelog)</a></li>
<li><a href="/projects/nethserver/issues?query_id=65" class="query">6.8 (changelog)</a></li>
<li><a href="/projects/nethserver/issues?query_id=66" class="query">6.9 (changelog)</a></li>
<li><a href="/projects/nethserver/issues?query_id=12" class="query">@future/closed</a></li>
<li><a href="/projects/nethserver/issues?query_id=55" class="query">KNOWN_BUGS</a></li>
<li><a href="/projects/nethserver/issues?query_id=15" class="query">Lost+Found</a></li>
<li><a href="/projects/nethserver/issues?query_id=24" class="query">NEEDINFO</a></li>
<li><a href="/projects/nethserver/issues?query_id=26" class="query">ON_DEV</a></li>
<li><a href="/projects/nethserver/issues?query_id=27" class="query">ON_QA</a></li>
<li><a href="/projects/nethserver/issues?query_id=44" class="query">TODO Tasks</a></li>
<li><a href="/projects/nethserver/issues?query_id=54" class="query selected">UPDATES</a></li>
<li><a href="/projects/nethserver/issues?query_id=67" class="query">v6.10 (current)</a></li></ul>





        
    </div>

    <div id="content">
        
        <div class="contextual">





</div>


<h2>Enhancement #2946</h2>

<div class="issue tracker-6 status-5 priority-3 priority-lowest closed details">

  <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/c96c358beddd941e6188349f3c98ccd3?rating=PG&amp;size=50&amp;default=wavatar" ssl="false" title="" />

<div class="subject">
<div><h3>Dashboard-&gt; VPN section : wrong virtual address assigned</h3></div>
</div>
        <p class="author">
        Added by <a href="/users/11" class="user active">Davide Marini</a> <a href="/projects/nethserver/activity?from=2014-11-07" title="11/07/2014 06:33 AM">over 6 years</a> ago.
        Updated <a href="/projects/nethserver/activity?from=2016-08-26" title="08/26/2016 09:05 AM">almost 5 years</a> ago.
        </p>

<table class="attributes">
<tr><th class="status">Status:</th><td class="status">CLOSED</td><th class="start-date">Start date:</th><td class="start-date"></td></tr><tr><th class="priority">Priority:</th><td class="priority">Low</td><th class="due-date">Due date:</th><td class="due-date"></td></tr><tr><th class="assigned-to">Assignee:</th><td class="assigned-to">-</td><th class="progress">% Done:</th><td class="progress"><table class="progress progress-100" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="percent">100%</p></td></tr><tr><th class="category">Category:</th><td class="category">-</td><th></th><td></td></tr><tr><th class="fixed-version">Target version:</th><td class="fixed-version"><a href="/versions/113">~FUTURE</a></td><th></th><td></td></tr>
<tr>
	<th class="cf_13">Resolution:</th><td class="cf_13">REJECTED</td>
	<th class="cf_14">NEEDINFO:</th><td class="cf_14">No</td>
</tr>


</table>

<hr />
<div class="description">
  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>The VPN section in the dashboard shows many parameters for all active vpns, one of these, the Virtual Address, is often wrong when the client is another gateway server (e.g. another Nethserver doing a net to net vpn ).<br />The showed Virtual address can be (random) the point to point of the tun/tap interface, or the remote lan address(in CIDR format), or something (not very clear) like the remote lan address where the last octet and netmask are wrong (e.g. 192.168.0.45C).<br />Please see the attached file</p>
  </div>
</div>
<div class="attachments">
<p><a href="/attachments/download/296/vpn-status.png" class="icon icon-attachment">vpn-status.png</a>  
  <span class="size">(33.4 KB)</span>
    <span class="author">Davide Marini, 11/07/2014 06:32 AM</span>
  </p>
</div>






</div>


<div id="history">
<h3>History</h3>
  <div id="change-13025" class="journal has-notes">
    <div id="note-1">
    <h4><a href="/issues/2946#note-1" class="journal-link">#1</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/c96c358beddd941e6188349f3c98ccd3?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />
    Updated by <a href="/users/11" class="user active">Davide Marini</a> <a href="/projects/nethserver/activity?from=2014-11-07" title="11/07/2014 06:48 AM">over 6 years</a> ago</h4>

    <div class="wiki" id="journal-13025-notes"><p>The values showed by the interface are extracted from the command openvpn status, this is the section (where XXXX stands for the public IP address).</p>


<pre>
ROUTING TABLE

10.10.17.10,vpn1,XXXX:58458,Fri Nov  7 11:47:40 2014

192.168.38.0/24,vpn2,XXXX:46049,Fri Nov  7 10:13:40 2014

192.168.28.0/24,vpn1,XXXX:58458,Fri Nov  7 10:13:39 2014

10.10.17.6,vpn3,XXXX:24287,Fri Nov  7 11:44:51 2014

192.168.28.1C,vpn1,XXXX:58458,Fri Nov  7 11:47:44 2014

10.10.17.14,vpn2,XXXX:46049,Fri Nov  7 11:47:39 2014

192.168.70.56C,vpn3,XXXX:24287,Fri Nov  7 11:47:44 2014

192.168.28.144C,vpn1,XXXX:58458,Fri Nov  7 11:47:17 2014

192.168.38.1C,vpn2,XXXX:46049,Fri Nov  7 11:47:41 2014

192.168.28.101C,vpn1,XXXX:58458,Fri Nov  7 11:47:00 2014

192.168.70.0/24,vpn3,XXXX:24287,Fri Nov  7 10:13:38 2014

192.168.28.143C,vpn1,XXXX:58458,Fri Nov  7 11:47:17 2014
</pre>

	<p>I noticed that some vpn had more occurrences than others, so I looked at the traffic on the vpn interface and I found that the virtual address ip like 192.168.28.143C are referred to the remote clients of the net-to-net which are doing actually traffic on the vpn. <br />My suggestion to separate in 2 tables simple host-to-net clients from Net-to-Net clients and show also the clients doing traffic actually , it would be very useful.</p></div>
    </div>
  </div>
  
  <div id="change-13250" class="journal has-details">
    <div id="note-2">
    <h4><a href="/issues/2946#note-2" class="journal-link">#2</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/ecb4e27446848579607dfdf7e161f7ef?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />
    Updated by <a href="/users/9" class="user active">Davide Principi</a> <a href="/projects/nethserver/activity?from=2014-11-24" title="11/24/2014 10:29 AM">over 6 years</a> ago</h4>

    <ul class="details">
       <li><strong>Target version</strong> set to <i>~FUTURE</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-14139" class="journal has-details">
    <div id="note-3">
    <h4><a href="/issues/2946#note-3" class="journal-link">#3</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/557f8126150c57751ffc7d17a9f01e11?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />
    Updated by <a href="/users/5" class="user active">Giacomo Sanchietti</a> <a href="/projects/nethserver/activity?from=2015-02-19" title="02/19/2015 09:04 AM">over 6 years</a> ago</h4>

    <ul class="details">
       <li><strong>Priority</strong> changed from <i>Normal</i> to <i>Low</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-17024" class="journal has-details">
    <div id="note-4">
    <h4><a href="/issues/2946#note-4" class="journal-link">#4</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/557f8126150c57751ffc7d17a9f01e11?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />
    Updated by <a href="/users/5" class="user active">Giacomo Sanchietti</a> <a href="/projects/nethserver/activity?from=2016-02-24" title="02/24/2016 10:05 AM">over 5 years</a> ago</h4>

    <ul class="details">
       <li><strong>Tracker</strong> changed from <i>Bug</i> to <i>Enhancement</i></li>
    </ul>
    
    </div>
  </div>
  
  <div id="change-17642" class="journal has-notes has-details">
    <div id="note-5">
    <h4><a href="/issues/2946#note-5" class="journal-link">#5</a>
    <img alt="" class="gravatar" default="wavatar" rating="PG" src="http://www.gravatar.com/avatar/557f8126150c57751ffc7d17a9f01e11?rating=PG&amp;size=24&amp;default=wavatar" ssl="false" title="" />
    Updated by <a href="/users/5" class="user active">Giacomo Sanchietti</a> <a href="/projects/nethserver/activity?from=2016-08-26" title="08/26/2016 09:05 AM">almost 5 years</a> ago</h4>

    <ul class="details">
       <li><strong>Status</strong> changed from <i>NEW</i> to <i>CLOSED</i></li>
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
       <li><strong>Resolution</strong> set to <i>REJECTED</i></li>
    </ul>
    <div class="wiki" id="journal-17642-notes"><p>This feature will not be implemented in NS 6. If needed, please reopen it for NS 7.</p></div>
    </div>
  </div>
  


</div>


<div style="clear: both;"></div>
<div class="contextual">





</div>


<div style="clear: both;"></div>

<p class="other-formats">Also available in:  <span><a href="/issues/2946.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="/issues/2946.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>



<script type="text/javascript">
//<![CDATA[
contextMenuInit('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Copyright © 2012-2021 nethserver.org
  </div></div>
</div>
</div>
</div>

</body>
</html>
